<div class="h-screen w-screen overflow-hidden">
    <div class="flex flex-row h-screen p-4 x-screen">
        <app-menu></app-menu>
        <div class="w-3"></div>
        <div class="flex-grow max-w-full h-14 bg-purple-950 rounded-lg flex flex-col">
            <!-- Header -->
            <div class="flex bg-secondary p-4 rounded-lg">
                <input type="text" placeholder="Buscar modelo ..." class="flex-grow border rounded-lg p-2 mr-2 w-5">
            </div>

            <div class="h-3"></div>

            <!-- Body -->
            <div class="flex bg-primary pl-10 pr-10 pt-4 pb-4 rounded-lg mt-3 justify-between items-center">
                <span class="text-white font-bold text-sm">Nome</span>
                <span class="text-white font-bold text-sm">Categoria</span>
                <span class="text-white font-bold text-sm">Status</span>
                <span class="text-white font-bold text-sm text-centerx">Mesagens<br>Entregues</span>
                <span class="text-white font-bold text-sm text-center">Última<br>Atualização</span>
                <span class="text-white font-bold text-sm text-center">Opções</span>
            </div>
            <div class="space-y-3 m-3" *ngFor="let campaign of allCampaigns">
                <div class="rounded-lg p-3 bg-secondary">
                    <div class="flex justify-between items-center">
                        <span class="text-black font-semibold text-sm">{{campaign.name}}</span>
                        <div class="bg-red-700 pl-10 pr-10 pt-1 pb-1 rounded-lg">
                            <span class="text-white font-semibold text-sm">Tag</span>
                        </div>
                        <div class="bg-green-700 pl-10 pr-10 pt-1 pb-1 rounded-lg">
                            <span class="text-white font-semibold text-sm">Aberto</span>
                        </div>
                        <span class="text-black font-semibold text-sm">321</span>
                        <span class="text-black font-semibold text-sm">03/02/2024</span>
                        <div class="flex space-x-2">
                            <!-- <button 
                                class=" bg-primary text-white p-2 rounded-full shadow-lg hover:bg-gray-600 transition">
                                <img src="/assets/image/icon/edit.svg" alt="edit"  class="w-4 h-4" />
                            </button> -->
                            <button
                                (click)="deleteCampaign(campaign.id)"
                                class=" bg-primary text-white p-2 rounded-full shadow-lg hover:bg-gray-600 transition">
                                <img src="/assets/image/icon/trash.svg" alt="trash" class="w-4 h-4"/>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- <div class="rounded-lg p-3 bg-white">
                    <div class="flex justify-between items-center">
                        <span class="text-black font-semibold text-sm">Campanha A</span>
                        <div class="bg-red-700 pl-10 pr-10 pt-1 pb-1 rounded-lg">
                            <span class="text-white font-semibold text-sm">Tag</span>
                        </div>
                        <div class="bg-green-700 pl-10 pr-10 pt-1 pb-1 rounded-lg">
                            <span class="text-white font-semibold text-sm">Aberto</span>
                        </div>
                        <span class="text-black font-semibold text-sm">321</span>
                        <span class="text-black font-semibold text-sm">03/02/2024</span>
                    </div>
                </div> -->
            </div>
        </div>
        <!-- Floating Action Button -->
        <button
          (click)="openCreateCampaignModal(true)"
          class="fixed bottom-5 right-5 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-gray-600 transition"
        >
          <img src="/assets/image/icon/add.svg" alt="Add"/>
        </button>
    </div>

    <div *ngIf="isCreatingCampaign === true" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
        <div class="bg-white rounded-lg shadow-lg w-full max-w-lg p-6">
          <h2 class="text-2xl font-bold mb-4 text-primary">Criar Campanha</h2>
          <form class="space-y-4">
            <div class="space-y-1">
              <label for="campaignName" class="block text-sm font-medium text-gray-700">Nome da campanha</label>
              <input #campaignNameInput id="campaignName" type="text" placeholder="Digite o nome do modelo" class="w-full p-2 border border-gray-300 rounded-md" required />
            </div>
            <div class="space-y-1">
              <label for="campaignContent" class="block text-sm font-medium text-gray-700">Plataforma</label>
              <select #messagingProductSelect id="messagingProduct" class="w-full p-2 border border-gray-300 rounded-md">
                <option *ngFor="let product of allMessagingProducts" [value]="product.id">{{ product.name }}</option>
              </select>
            </div>
            <div class="flex justify-between mt-4">
              <button type="button" (click)="closeCreateCampaignModal(false)" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-md">Cancelar</button>
              <button type="submit" (click)="createCampaign(messagingProductSelect.value, campaignNameInput.value)" class="bg-primary hover:bg-primary-100 text-white py-2 px-4 rounded-md">Criar Campanha</button>
            </div>
          </form>
        </div>
      </div>
</div>
